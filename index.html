<!DOCTYPE html>
<html lang="en" style="--primary: #5E81F4; --secondary: #FF7AC6; --accent: #FFB800; --primary-rgb: 94, 129, 244; --secondary-rgb: 255, 122, 198; --base-font-family: 'Segoe UI', sans-serif; --base-font-size: 16px;"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Micro:bit Level 1</title>
<style>
    :root {
        --primary: #5E81F4;
        --secondary: #FF7AC6;
        --accent: #FFB800;
        --light: #F5F7FA;
        --dark: #1A1D28;
        --success: #7CE7AC;
        --danger: #FF7E7E;
        --base-font-family: 'Segoe UI', sans-serif;
        --base-font-size: 16px;
        --transition-speed: 0.3s;
        --transition-ease: ease;
    }

    html {
        scroll-behavior: smooth;
        box-sizing: border-box;
        font-size: var(--base-font-size);
    }

    *, *:before, *:after {
        box-sizing: inherit;
    }

    body {
        font-family: var(--base-font-family);
        margin: 0;
        padding: 0;
        background-color: var(--light);
        color: var(--dark);
        line-height: 1.6;
        transition: background-color var(--transition-speed) var(--transition-ease), color var(--transition-speed) var(--transition-ease);
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px 15px;
    }

    h2 {
        color: var(--primary);
        border-bottom: 3px solid var(--secondary);
        padding-bottom: 8px;
        display: inline-block;
        font-size: 1.4rem;
        margin-top: 0;
        margin-bottom: 25px;
        transition: color var(--transition-speed) var(--transition-ease), border-color var(--transition-speed) var(--transition-ease);
    }

    h3 {
        color: var(--dark);
        margin-top: 30px;
        margin-bottom: 15px;
        font-size: 1.2rem;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }

    .page-header {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        margin-bottom: 30px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        padding: 25px 20px;
        border-radius: 18px;
        box-shadow: 0 6px 15px rgba(0,0,0,0.08);
        text-align: center;
        position: relative;
        transition: background var(--transition-speed) var(--transition-ease);
    }

    .page-header img.header-image {
        width: 120px;
        height: 120px;
        object-fit: cover;
        border-radius: 12px;
        border: 4px solid white;
    }

    .page-header .header-title-container {
        flex-grow: 1;
    }

    .page-header .header-title {
        color: white;
        margin: 0 0 8px 0;
        font-size: 1.9rem;
        text-shadow: 1px 1px 4px rgba(0,0,0,0.25);
    }

    .page-header .header-subtitle {
        color: rgba(255, 255, 255, 0.95);
        font-size: 1.05rem;
        margin: 0;
    }

    .edit-btn, .export-btn, .back-btn {
        position: absolute;
        top: 20px;
        background-color: rgba(255, 255, 255, 0.25);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.6);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        box-shadow: 0 3px 7px rgba(0,0,0,0.2);
        transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
        z-index: 10;
        text-decoration: none;
    }

    .edit-btn:hover, .export-btn:hover, .back-btn:hover {
        background-color: rgba(255, 255, 255, 0.5);
        transform: scale(1.1);
        box-shadow: 0 4px 9px rgba(0,0,0,0.25);
    }

    #course-view .page-header .edit-btn {
        right: 20px;
    }

    #course-view .page-header .export-btn {
        right: 75px;
    }

    #project-view .page-header .edit-btn {
        right: 20px;
    }

    #project-view .page-header .back-btn {
        right: 75px;
        font-size: 24px;
    }

    #course-view {
        animation: fadeIn 0.5s;
    }

    #course-description-container {
        background-color: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        margin-bottom: 30px;
        font-size: 1.05rem;
        line-height: 1.7;
    }

    #course-description-container h2 {
        margin-bottom: 15px;
        font-size: 1.3rem;
    }

    /* --- NEW: Course Multimedia Section Styles --- */
    #course-multimedia-section {
        background-color: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        margin-bottom: 30px;
        position: relative; /* For positioning the toggle button */
        overflow: hidden; /* Prevents content overflow when minimized */
         transition: padding-top 0.3s ease, padding-bottom 0.3s ease; /* Smooth transition */
    }

    #course-multimedia-section h2 {
        margin-bottom: 20px;
        font-size: 1.3rem;
    }

    #course-multimedia-content {
        margin-top: 15px;
        max-width: 100%;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        border-radius: 12px;
        background-color: #f0f0f0; /* Placeholder bg */
         transition: max-height 0.4s ease-out, opacity 0.3s ease-in;
         max-height: 1000px; /* Large enough for content */
         opacity: 1;
    }

    #course-multimedia-content img,
    #course-multimedia-content iframe {
        display: block;
        max-width: 100%;
        height: auto;
        border: none;
        border-radius: 12px;
        box-shadow: 0 3px 8px rgba(0,0,0,.1);
    }

    /* Aspect ratio for video/presentation if needed */
    #course-multimedia-content .media-wrapper-16-9 {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 */
        height: 0;
        overflow: hidden;
    }
     #course-multimedia-content .media-wrapper-16-9 iframe {
        position: absolute;
        top: 0;
        left: 0;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
     }


    #toggle-multimedia-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        background-color: rgba(0, 0, 0, 0.1);
        color: var(--dark);
        border: 1px solid rgba(0, 0, 0, 0.2);
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        font-weight: bold;
        line-height: 1;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        transition: background-color 0.3s, transform 0.2s;
        z-index: 5;
        padding: 0; /* Remove default padding */
    }

    #toggle-multimedia-btn:hover {
        background-color: rgba(0, 0, 0, 0.2);
        transform: scale(1.05);
    }

    /* Minimized State */
    #course-multimedia-section.multimedia-minimized {
         padding-top: 15px; /* Reduce padding when minimized */
         padding-bottom: 15px;
    }
     #course-multimedia-section.multimedia-minimized #course-multimedia-content {
        max-height: 0;
        opacity: 0;
        margin-top: 0; /* Remove margin when hidden */
        overflow: hidden; /* Ensure content is fully hidden */
    }
    /* --- End Course Multimedia Styles --- */


    #projectGrid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 25px;
        margin-top: 20px;
    }

    .project-tab {
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        overflow: hidden;
        cursor: pointer;
        transition: transform var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease);
        display: flex;
        flex-direction: column;
        text-decoration: none;
        color: inherit;
        position: relative;
    }

    .project-tab:hover {
        transform: translateY(-6px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.12);
    }

    .project-tab img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        object-position: center; 
        border-bottom: 1px solid #eee;
    }

    .project-tab-info {
        padding: 20px 15px;
        text-align: center;
        background-color: #fdfdff;
        flex-grow: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .project-tab-info span {
        font-weight: 600;
        color: var(--primary);
        font-size: 1.1rem;
        transition: color var(--transition-speed) var(--transition-ease);
    }

    .completion-tick {
        position: absolute;
        top: 12px;
        right: 12px;
        width: 30px;
        height: 30px;
        background-color: var(--success);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 19px;
        font-weight: bold;
        line-height: 1;
        box-shadow: 0 2px 5px rgba(0,0,0,0.25);
        z-index: 5;
    }

    #project-view {
        animation: fadeIn 0.5s;
    }

    #project-view .page-header .header-image {
        width: 100px;
        height: 100px;
        border-radius: 10px;
    }

    #project-view .page-header .header-title {
        font-size: 1.7rem;
    }

    #project-view .page-header .header-subtitle {
        font-size: 1rem;
    }

    .progress-container {
        width: 100%;
        background-color: #e0e0e0;
        border-radius: 10px;
        margin: 25px 0;
        height: 12px;
        overflow: hidden;
    }

    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        border-radius: 10px;
        width: 0%;
        transition: width .5s ease-in-out, background var(--transition-speed) var(--transition-ease);
    }

    #projectTabs {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        overflow-x: auto;
        padding-bottom: 8px;
        -webkit-overflow-scrolling: touch;
    }

    #projectTabs::-webkit-scrollbar {
        height: 4px;
        background-color: #eee;
        border-radius: 2px;
    }

    #projectTabs::-webkit-scrollbar-thumb {
        background-color: var(--primary);
        border-radius: 2px;
    }

    #projectTabs .tab {
        padding: 10px 20px;
        background-color: #fff;
        border-radius: 30px;
        cursor: pointer;
        font-weight: 700;
        box-shadow: 0 3px 10px rgba(0,0,0,.06);
        white-space: nowrap;
        font-size: .95rem;
        flex-shrink: 0;
        transition: background-color .3s, color .3s, transform .2s, box-shadow .3s;
        border: 1px solid #eee;
    }

    #projectTabs .tab.active {
        background-color: var(--primary);
        color: #fff;
        transform: translateY(-3px);
        box-shadow: 0 5px 12px rgba(var(--primary-rgb, 94, 129, 244),.3);
    }

    #projectTabs .tab:hover:not(.active) {
        background-color: #eef2ff;
        transform: translateY(-2px);
        box-shadow: 0 4px 11px rgba(0,0,0,.08);
    }

    #projectTabContentContainer .tab-content {
        display: none;
        background-color: #fff;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,.06);
        animation: fadeIn .5s ease-out;
        margin-bottom: 25px;
    }

    #projectTabContentContainer .tab-content h2 {
        font-size: 1.3rem;
        margin-bottom: 20px;
    }

    #projectTabContentContainer .tab-content.active {
        display: block;
    }

    .video-container {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        margin: 20px 0;
        border-radius: 12px;
        box-shadow: 0 5px 12px rgba(0,0,0,.1);
    }

    .video-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 12px;
        border: none;
    }

    .slide {
        display: none;
        text-align: left;
    }

    .slideshow {
        position: relative;
        margin: 20px 0;
        background-color: #f9f9ff;
        padding: 20px;
        border-radius: 12px;
    }

    .slide-content-wrapper {
        position: relative;
        padding-bottom: 56.25%;
        height: 0;
        overflow: hidden;
        margin: 0 auto 20px;
        max-width: 100%;
        background-color: #eee;
        border-radius: 10px;
    }

    .slide iframe, .slide img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,.1);
        background-color: transparent;
    }

    .slide p {
        margin: 15px 0 0;
        font-size: .95rem;
        color: #444;
    }

    .slide.active {
        display: block;
        animation: fadeIn .5s;
    }

    .slide-nav {
        text-align: center;
        margin-top: 20px;
        display: flex;
        justify-content: space-between;
        gap: 15px;
    }

    .slide-nav button {
        background-color: var(--primary);
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 1rem;
        transition: background-color .3s, transform .2s, box-shadow .3s;
        box-shadow: 0 2px 5px rgba(0,0,0,.1);
    }

    .slide-nav button:hover {
        background-color: #4a6cdc;
        transform: scale(1.05);
        box-shadow: 0 4px 8px rgba(0,0,0,.15);
    }

    .step {
        display: flex;
        gap: 20px;
        margin-bottom: 25px;
        padding: 20px;
        background-color: #fdfdff;
        border-radius: 12px;
        align-items: flex-start;
        border-left: 6px solid var(--secondary);
        box-shadow: 0 2px 6px rgba(0,0,0,.05);
        transition: border-color var(--transition-speed) var(--transition-ease);
    }

    .step-number {
        background-color: var(--secondary);
        color: #fff;
        min-width: 35px;
        height: 35px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        flex-shrink: 0;
        font-size: 1rem;
        margin-top: 4px;
        transition: background-color var(--transition-speed) var(--transition-ease);
    }

    .step-content {
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    .step-content strong {
        font-size: 1.1rem;
        color: var(--primary);
        display: block;
        margin-bottom: 8px;
        transition: color var(--transition-speed) var(--transition-ease);
    }

    .step-content p.description {
        margin: 0 0 15px;
        font-size: 1rem;
        color: #333;
        line-height: 1.6;
    }

    .step-content p.description:last-child {
        margin-bottom: 0;
    }

    .step-content .step-media {
        margin-top: 15px;
        max-width: 100%;
        width: 100%;
        overflow: hidden;
        border-radius: 10px;
        background-color: #f0f0f0;
    }

    .step-content .step-media img {
        display: block;
        max-width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 3px 8px rgba(0,0,0,.1);
    }

    .step-content .step-media iframe {
        display: block;
        width: 100%;
        aspect-ratio: 16/9;
        border: none;
        border-radius: 10px;
        box-shadow: 0 3px 8px rgba(0,0,0,.1);
    }

    .quiz-question {
        background-color: #fdfdff;
        padding: 25px;
        margin-bottom: 20px;
        border-radius: 12px;
        box-shadow: 0 3px 10px rgba(94,129,244,.12);
        border: 1px solid #e0e8ff;
    }

    .quiz-question p.question-text {
        margin: 0 0 20px;
        font-size: 1.05rem;
        font-weight: 700;
        color: var(--dark);
    }

    .quiz-options {
        margin-top: 15px;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .quiz-option {
        display: block;
        padding: 14px 18px;
        margin-bottom: 0;
        background-color: #f5f7fa;
        border: 1px solid #d8dde6;
        border-radius: 10px;
        cursor: pointer;
        transition: all .3s ease;
        font-size: 1rem;
        position: relative;
        text-align: left;
        opacity: 1;
    }

    .quiz-option:hover {
        background-color: #e8ecf3;
        border-color: #c4cde0;
        transform: translateX(3px);
    }

    .quiz-option.selected {
        border-color: var(--primary);
        background-color: #e8f0fe;
        font-weight: 500;
    }

    .quiz-option.correct {
        background-color: var(--success);
        color: #fff;
        border-color: #63c899;
        font-weight: 700;
    }

    .quiz-option.correct.selected {
        background-color: var(--success);
        color: #fff;
        border-color: #63c899;
    }

    .quiz-option.incorrect.selected {
        background-color: var(--danger);
        color: #fff;
        border-color: #e66a6a;
        font-weight: 700;
        text-decoration: line-through;
        text-decoration-thickness: 2px;
        border-color: #e66a6a!important;
    }

    .quiz-question.answered .quiz-option:not(.selected):not(.correct) {
        opacity: .6;
        cursor: default;
        background-color: #f5f7fa;
        border-color: #d8dde6;
        text-decoration: none;
        transform: none;
    }

    .quiz-question.answered .quiz-option.correct:not(.selected) {
        opacity: 1;
    }

    .quiz-feedback {
        margin-top: 15px;
        padding: 12px 18px;
        border-radius: 8px;
        display: none;
        font-size: .9rem;
        border-width: 1px;
        border-style: solid;
        font-weight: 500;
    }

    .quiz-feedback.correct {
        background-color: #e6f7ed;
        color: #1d6c45;
        border-color: #c3e6cb;
    }

    .quiz-feedback.incorrect {
        background-color: #fde8e8;
        color: #9b1c1c;
        border-color: #f5c6cb;
    }

    .final-quiz-result {
        margin-top: 25px;
        padding: 18px;
        border-radius: 10px;
        text-align: center;
        font-weight: 700;
        font-size: 1.15rem;
    }

    .final-quiz-result.success {
        background-color: #e6f7ed;
        color: #1d6c45;
        border: 1px solid #c3e6cb;
    }

    .final-quiz-result.fail {
        background-color: #fde8e8;
        color: #9b1c1c;
        border: 1px solid #f5c6cb;
    }

    .submit-btn {
        background-color: var(--accent);
        color: var(--dark);
        border: none;
        padding: 14px 30px;
        border-radius: 30px;
        font-weight: 700;
        cursor: pointer;
        margin-top: 30px;
        font-size: 1.05rem;
        transition: all .3s;
        display: block;
        width: 100%;
        max-width: 280px;
        margin-left: auto;
        margin-right: auto;
        box-shadow: 0 3px 8px rgba(0,0,0,.15);
        transition: background-color var(--transition-speed) var(--transition-ease), color var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease), transform var(--transition-speed) var(--transition-ease);
    }

    .submit-btn:hover:not(:disabled) {
        background-color: #ffc833;
        box-shadow: 0 5px 12px rgba(0,0,0,.2);
        transform: translateY(-2px);
    }

    .submit-btn:disabled {
        background-color: #ccc;
        color: #666;
        cursor: not-allowed;
        box-shadow: none;
        transform: none;
        opacity: .7;
    }

    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,.7);
        z-index: 1000;
        overflow-y: auto;
        padding: 40px 15px;
    }

    .modal-content {
        background-color: #fff;
        margin: 40px auto;
        padding: 30px 35px;
        border-radius: 15px;
        width: 90%;
        max-width: 850px;
        box-shadow: 0 8px 25px rgba(0,0,0,.3);
        position: relative;
    }

    .close-modal {
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 32px;
        font-weight: 700;
        color: #aaa;
        cursor: pointer;
        line-height: 1;
        z-index: 1001;
        padding: 5px;
        transition: color 0.3s;
    }

    .close-modal:hover {
        color: #333;
    }

    .modal h2 {
        margin-bottom: 25px;
    }

    .edit-form {
        margin-top: 25px;
    }

    .edit-form label {
        display: block;
        margin-bottom: 6px;
        font-weight: 600;
        color: var(--primary);
        font-size: .95rem;
    }

    .edit-form input[type=text], .edit-form input[type=url], .edit-form textarea, .edit-form select {
        width: 100%;
        padding: 12px;
        margin-bottom: 18px;
        border: 1px solid #ccc;
        border-radius: 6px;
        font-size: 1rem;
        box-sizing: border-box;
        transition: border-color 0.3s;
    }

    .edit-form input:focus, .edit-form textarea:focus, .edit-form select:focus {
        border-color: var(--primary);
        outline: none;
        box-shadow: 0 0 0 2px rgba(var(--primary-rgb, 94, 129, 244), 0.2);
    }

    .edit-form textarea {
        resize: vertical;
        min-height: 80px;
    }

    .edit-form button, button.remove-item-btn, button.add-item-btn {
        background-color: var(--primary);
        color: #fff;
        border: none;
        padding: 10px 18px;
        border-radius: 6px;
        cursor: pointer;
        margin-right: 10px;
        margin-top: 10px;
        font-size: .95rem;
        font-weight: 500;
        transition: background-color .3s, transform 0.2s, box-shadow 0.3s;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .edit-form button:hover, button.remove-item-btn:hover, button.add-item-btn:hover {
        background-color: #4a6cdc;
        transform: translateY(-1px);
        box-shadow: 0 3px 6px rgba(0,0,0,0.15);
    }

    .modal-actions {
        margin-top: 30px;
        text-align: right;
        border-top: 1px solid #eee;
        padding-top: 20px;
    }

    .modal-actions button {
        display: inline-block;
    }

    .modal-actions button[onclick^="save"] {
        background-color: var(--success);
    }

    .modal-actions button[onclick^="save"]:hover {
        background-color: #63c899;
    }

    .modal-actions button[onclick^="closeModal"] {
        background-color: #aaa;
        margin-right: 0;
    }

    .modal-actions button[onclick^="closeModal"]:hover {
        background-color: #888;
    }

    button.remove-item-btn {
        background-color: var(--danger);
        margin-left: 10px;
        font-weight: 700;
        line-height: 1;
        padding: 6px 10px;
        width: 30px;
        height: 30px;
        font-size: 1rem;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: none;
    }

    button.remove-item-btn:hover {
        background-color: #e66a6a;
        transform: scale(1.1);
    }

    button.add-item-btn {
        background-color: var(--success);
        display: inline-block;
        margin-top: 15px;
        margin-left: 0;
        margin-right: 0;
        width: fit-content;
    }

    button.add-item-btn:hover {
        background-color: #63c899;
    }

    .edit-section {
        margin-top: 25px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }

    .edit-item-group {
        margin-bottom: 25px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 10px;
        background-color: #fdfdff;
        position: relative;
        box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    }

    .edit-item-group .remove-item-btn {
        position: absolute;
        top: 15px;
        right: 15px;
    }

    .edit-item-group>label {
        font-weight: 700;
        color: var(--dark);
        font-size: 1rem;
        margin-top: 5px;
        display: block;
        margin-bottom: 10px;
    }

    .edit-item-group label {
        font-weight: 500;
        color: #555;
        font-size: .9rem;
    }

    .edit-item-group input[type=text], .edit-item-group input[type=url], .edit-item-group textarea, .edit-item-group select {
        margin-bottom: 12px;
    }

    .media-controls {
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px dashed #eee;
    }

    .media-controls label {
        font-weight: 500;
        color: #555;
        font-size: .9rem;
    }

    .media-url-input-container {
        margin-top: 8px;
    }

    /* NEW: Course Multimedia Editor Fields Container */
    .course-multimedia-editor-fields {
        margin-top: 8px;
        padding-left: 10px;
        border-left: 3px solid #eee;
    }

    .incorrect-answer-label {
        font-size: .9rem;
        color: #777;
        margin-top: 10px;
        font-weight: 500;
    }

    .color-picker {
        display: flex;
        gap: 12px;
        margin-bottom: 18px;
        flex-wrap: wrap;
        align-items: center;
    }

    .color-option {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid #ddd;
        transition: transform .2s, border-color .2s, box-shadow .2s;
    }

    .color-option.selected {
        border: 3px solid var(--dark);
        transform: scale(1.15);
        box-shadow: 0 0 8px rgba(0,0,0,0.2);
    }

    input[type=color] {
        width: 38px;
        height: 38px;
        border: 1px solid #ccc;
        padding: 2px;
        border-radius: 50%;
        overflow: hidden;
        cursor: pointer;
        vertical-align: middle;
        background-color: white;
    }

    input[type=color]::-webkit-color-swatch-wrapper {
        padding: 0;
    }

    input[type=color]::-webkit-color-swatch {
        border: none;
        border-radius: 50%;
    }

    input[type=color].inherited-style {
        border: 2px dashed #aaa !important;
    }

    .font-selector {
        display: flex;
        gap: 10px;
        margin-bottom: 18px;
        flex-wrap: wrap;
    }

    .font-option {
        padding: 6px 14px;
        border: 1px solid #ddd;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color .3s, color .3s, border-color .3s;
        font-size: 0.9rem;
    }

    .font-option.selected {
        background-color: var(--primary);
        color: #fff;
        border-color: var(--primary);
        font-weight: 500;
    }

    .font-option:hover:not(.selected) {
        background-color: #eef2ff;
        border-color: #c4cde0;
    }

    .size-selector {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-bottom: 18px;
    }

    .size-option {
        padding: 6px 14px;
        border: 1px solid #ddd;
        border-radius: 6px;
        cursor: pointer;
        transition: background-color .3s, color .3s, border-color .3s;
        font-size: 0.9rem;
    }

    .size-option.selected {
        background-color: var(--primary);
        color: #fff;
        border-color: var(--primary);
        font-weight: 500;
    }

    .size-option:hover:not(.selected) {
        background-color: #eef2ff;
        border-color: #c4cde0;
    }

    #courseEditModal #projectTabsEditor {
        margin-top: 25px;
        padding-top: 20px;
        border-top: 1px solid #eee;
    }

    #projectTabsEditor h4 {
        margin-bottom: 18px;
        color: var(--primary);
        display: inline-block;
        border-bottom: 2px solid var(--secondary);
        padding-bottom: 6px;
        font-size: 1.1rem;
    }

    #projectTabsList {
        max-height: 350px;
        overflow-y: auto;
        padding-right: 10px;
    }

    .project-tab-edit-item {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 15px;
        align-items: center;
        padding: 15px;
        border: 1px solid #eee;
        border-radius: 8px;
        margin-bottom: 12px;
        background-color: #fff;
        box-shadow: 0 1px 3px rgba(0,0,0,0.04);
    }

    .project-tab-edit-item .index {
        font-weight: bold;
        font-size: 1rem;
        color: var(--secondary);
    }

    .project-tab-edit-item .inputs {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .project-tab-edit-item label {
        font-size: 0.85rem;
        margin-bottom: 3px;
        color: #555;
        font-weight: 500;
    }

    .project-tab-edit-item input {
        padding: 8px;
        font-size: 0.9rem;
    }

    #projectEditModal .edit-section h4, #courseEditModal .edit-section h4 {
        color: var(--primary);
        margin-bottom: 15px;
        padding-bottom: 6px;
        border-bottom: 2px solid var(--secondary);
        display: inline-block;
        font-size: 1.15rem;
    }

    #projectEditModal .edit-section h5 {
        color: var(--dark);
        margin-top: 25px;
        margin-bottom: 12px;
        font-size: 1.05rem;
        font-weight: 600;
    }

    #projectEditModal #editingProjectNameLabel {
        color: var(--secondary);
        font-weight: bold;
    }

    #projectEditModal .form-hint, #courseEditModal .form-hint { /* Apply hint style in course modal too */
        font-size: 0.85rem;
        color: #666;
        margin-top: -10px;
        margin-bottom: 15px;
    }

    @media (min-width:768px) {
        .container {
            padding: 30px;
        }

        .page-header {
            flex-direction: row;
            text-align: left;
            align-items: center;
            padding: 30px 35px;
            gap: 30px;
        }

        #course-view .page-header img.header-image {
            width: 150px;
            height: 150px;
            border-radius: 15px;
        }

        .page-header .header-title {
            font-size: 2.2rem;
        }

        .page-header .header-subtitle {
            font-size: 1.2rem;
        }

        .step {
            align-items: center;
        }

        .step-number {
            margin-top: 0;
            width: 40px;
            height: 40px;
            font-size: 1.1rem;
        }

        .step-content .step-media {
            max-width: 65%;
            margin-left: auto;
            margin-right: auto;
        }

        #project-view .page-header img.header-image {
            width: 120px;
            height: 120px;
        }

        #project-view .page-header .header-title {
            font-size: 2.1rem;
        }

        #project-view .page-header .header-subtitle {
            font-size: 1.1rem;
        }

        #projectTabs .tab {
            padding: 12px 25px;
            font-size: 1rem;
        }
    }

    @media (max-width:600px) {
        .container {
            padding: 15px 10px;
        }

        .page-header {
            padding: 20px 15px;
        }

        #projectTabContentContainer .tab-content {
            padding: 20px;
        }

        .edit-btn, .export-btn, .back-btn {
            width: 36px;
            height: 36px;
            font-size: 18px;
            top: 15px;
        }

        #course-view .page-header .edit-btn {
            right: 15px;
        }

        #course-view .page-header .export-btn {
            right: 65px;
        }

        #project-view .page-header .edit-btn {
            right: 15px;
        }

        #project-view .page-header .back-btn {
            right: 65px;
            font-size: 22px;
        }

        h2 {
            font-size: 1.3rem;
        }

        .page-header .header-title {
            font-size: 1.6rem;
        }

        .page-header .header-subtitle {
            font-size: .95rem;
        }

        .modal-content {
            padding: 25px 20px;
        }

        #course-multimedia-section { /* Adjust padding for small screens */
             padding: 20px 15px;
        }
         #toggle-multimedia-btn { /* Adjust position for small screens */
             top: 15px;
             right: 15px;
         }

        .step {
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
        }

        .step-number {
            margin-top: 0;
            margin-bottom: 5px;
        }

        .step-content .step-media {
            max-width: 100%;
        }

        #project-view .page-header .header-title {
            font-size: 1.5rem;
        }

        #project-view .page-header .header-subtitle {
            font-size: .95rem;
        }

        .modal-actions {
            text-align: center;
        }

        .modal-actions button {
            width: 48%;
            margin: 5px 1%;
        }

        .modal-actions button[onclick^="closeModal"] {
            margin-right: 1%;
        }
    }
</style>
</head>
<body>
<!-- Container for the whole application -->
<div class="container">

    <!-- == COURSE VIEW (Visible by default) == -->
    <div id="course-view" style="display: block;">
        <header class="page-header" id="course-header">
             
             
             <img src="https://static.wixstatic.com/media/ecb02e_d86006f33f6c4a448e2c1ec1517c2690~mv2.png" alt="Micro:bit Level 1 Image" class="header-image" id="courseImage">
             <div class="header-title-container">
                 <h1 class="header-title" id="courseTitle">Micro:bit Level 1</h1>
                 <!-- Course subtitle/short desc could go here if needed -->
             </div>
        </header>

        <section id="course-description-container">
            <h2>About This Course</h2>
            <p id="courseDescription">Explore the exciting world of physical computing with the BBC micro:bit! This course contains several projects designed to introduce you to coding concepts and hardware interaction in a fun, hands-on way.</p>
        </section>

        <!-- ===== NEW: Course Multimedia Section ===== -->
        <section id="course-multimedia-section" style="display: block;" class=""> 
             <h2>Introduction</h2> 
             <button id="toggle-multimedia-btn" onclick="toggleCourseMultimedia()" aria-label="Minimize Multimedia" title="Minimize">—</button>
             <div id="course-multimedia-content"><div class="media-wrapper-16-9"><iframe src="https://video.wixstatic.com/video/ecb02e_618c362136c24e12886ac4ef43b86562/720p/mp4/file.mp4?autoplay=false" title="Course Multimedia" frameborder="0" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation"></iframe></div></div>
        </section>
        <!-- ===== End Course Multimedia Section ===== -->


        <section>
            <h2>Projects</h2>
            <div id="projectGrid"><a class="project-tab" href="#project-proj_catch and win"><img src="https://static.wixstatic.com/media/ecb02e_da4d01ce625b4cc0a0f79b7e553f50f9~mv2.gif" alt="Catch and Win" loading="lazy"><div class="project-tab-info"><span>Catch and Win</span></div></a><a class="project-tab" href="#project-proj_1743740874555_cqpr0"><img src="https://static.wixstatic.com/media/ecb02e_78f86aa17f7e45baa9fa01d284a59baf~mv2.gif" alt="Beating Heart" loading="lazy"><div class="project-tab-info"><span>Beating Heart</span></div></a></div>
        </section>
    </div>

    <!-- == PROJECT VIEW (Hidden by default) == -->
    <div id="project-view" style="display: none;">
        <!-- Project Header (Populated Dynamically) -->
        <header class="page-header" id="project-header">
            <button class="back-btn" id="backToCourseBtn" onclick="showCourseView()" aria-label="Back to Course" title="Back to Course">←</button>
            
            <!-- Project Export Button REMOVED -->
            <img src="https://static.wixstatic.com/media/ecb02e_78f86aa17f7e45baa9fa01d284a59baf~mv2.gif" alt="Beating Heart Header Image" class="header-image" id="projectImage">
            <div class="header-title-container">
                <h1 class="header-title" id="projectTitle">Beating Heart</h1>
                <p class="header-subtitle" id="projectSubtitle">Make your Micro:bit to display a Classic Beating Heart</p>
            </div>
        </header>

        <!-- Existing Project Content Structure (Merged from Project Code) -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar" style="width: 20%;"></div>
        </div>
        <nav class="tabs" id="projectTabs">
            <!-- Tabs are dynamically generated or hardcoded if fixed -->
            <!-- Example structure (content loaded dynamically) -->
            <div class="tab active" onclick="openProjectTab('overview', this)">Overview</div>
            <div class="tab" onclick="openProjectTab('video', this)">Video Lesson</div>
            <div class="tab" onclick="openProjectTab('slides', this)">Step-by-Step</div>
            <div class="tab" onclick="openProjectTab('challenges', this)">Challenges</div>
            <div class="tab" onclick="openProjectTab('quiz', this)">Quiz</div>
        </nav>
        <main id="projectTabContentContainer">
            <!-- Project Tab Content Templates -->
             <section id="overview" class="tab-content active">
                 <h2>About This Project</h2>
                 <p id="overviewText">Welcome to your first Micro:bit project! You'll learn the basics of block coding by creating a simple but effective animation on the Micro:bit's LED display – a beating heart. This is a fantastic way to understand timing and sequential programming.</p>
                 <h3>What You'll Learn</h3>
                 <div id="learnContainer"><div class="step"><div class="step-number">1</div>
                             <div class="step-content">
                                 <strong>Micro:bit Display</strong>
                                 <p class="description">Learn how to code and use the microbit display</p>
                                 <div class="step-media" style="display: none;"></div>
                             </div></div><div class="step"><div class="step-number">2</div>
                             <div class="step-content">
                                 <strong>Programming concepts</strong>
                                 <p class="description">Learn basic programming concepts like setup</p>
                                 <div class="step-media" style="display: none;"></div>
                             </div></div><div class="step"><div class="step-number">3</div>
                             <div class="step-content">
                                 <strong>Sequencing</strong>
                                 <p class="description">Learn how to build a seqential code with microbit</p>
                                 <div class="step-media" style="display: none;"></div>
                             </div></div><div class="step"><div class="step-number">4</div>
                             <div class="step-content">
                                 <strong>Timing</strong>
                                 <p class="description">How to use pause and delays in a code</p>
                                 <div class="step-media" style="display: none;"></div>
                             </div></div><div class="step"><div class="step-number">5</div>
                             <div class="step-content">
                                 <strong>Animations</strong>
                                 <p class="description">Learn how to combine codes to create a simple animation</p>
                                 <div class="step-media" style="display: none;"></div>
                             </div></div></div>
             </section>
             <section id="video" class="tab-content">
                 <h2>Video Lesson</h2>
                 <p id="videoIntroText">The Beating Heart</p>
                 <h3 id="videoTitle"></h3>
                 <div class="video-container">
                     <iframe src="https://video.wixstatic.com/video/ecb02e_b1d7e399c37041d08ad9cac998d53b00/1080p/mp4/file.mp4" frameborder="0" loading="lazy" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" id="mainVideo" title="Project Video"></iframe>
                 </div>
                 <h3>Key Points</h3>
                 <ul id="videoKeyPoints" style="font-size: 0.95rem; padding-left: 25px; list-style: disc;"><li>The project creates a pulsing heart animation on the micro:bit’s 5×5 LED display.</li><li>Using Built-in icons</li><li>The heart "beats" by switching between the two images with a short delay (e.g., 300–500 milliseconds).</li><li>Users can define their own heart shapes using a 5×5 grid format (e.g., "01110:10001:...")</li><li>Varying speeds → Faster delays for a rapid heartbeat, slower for a calm pulse.</li><li>Button control → Heart beats only when a button is pressed.</li><li>Sensors → Adjust speed using the accelerometer (e.g., shake to make it beat faster).</li><li>Simple introduction to LED animations.</li></ul>
             </section>
             <section id="slides" class="tab-content">
                 <h2>Step-by-Step Guide</h2>
                 <div class="slideshow" id="slideshowContainer"><div class="slide active"><div class="slide-content-wrapper"><iframe src="https://view.genially.com/67ece8c288defe39c2f3059b" frameborder="0" loading="lazy" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation" title="1.Makecode Microbit"></iframe></div><p>1.Makecode Microbit</p></div><div class="slide"><div class="slide-content-wrapper"><iframe src="https://view.genially.com/67ecf9c819b22b97739663f5" frameborder="0" loading="lazy" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation" title="2.Basic Blocks"></iframe></div><p>2.Basic Blocks</p></div><div class="slide"><div class="slide-content-wrapper"><iframe src="https://view.genially.com/67ee325feac0c6c654cf59ed" frameborder="0" loading="lazy" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation" title="3.Add Blocks and Delete Blocks"></iframe></div><p>3.Add Blocks and Delete Blocks</p></div><div class="slide"><div class="slide-content-wrapper"><iframe src="https://view.genially.com/67ed0d1d8c39a94597a12b4e" frameborder="0" loading="lazy" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation" title="4.Micro:bit Display"></iframe></div><p>4.Micro:bit Display</p></div><div class="slide"><div class="slide-content-wrapper"><iframe src="https://view.genially.com/67ee3417743c6c0c1fa21ff6" frameborder="0" loading="lazy" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation" title="5.Smily Face"></iframe></div><p>5.Smily Face</p></div><div class="slide"><div class="slide-content-wrapper"><iframe src="https://view.genially.com/67ee49f0769240f6362ae99e" frameborder="0" loading="lazy" allowfullscreen="" sandbox="allow-scripts allow-same-origin allow-presentation" title="6.Beating Heart"></iframe></div><p>6.Beating Heart</p></div></div>
                 <nav class="slide-nav" style="display: flex;">
                     <button onclick="prevSlide()">Previous</button>
                     <button onclick="nextSlide()">Next</button>
                 </nav>
             </section>
             <section id="challenges" class="tab-content">
                 <h2>Project Challenges</h2>
                 <p>Try these challenges to test your skills:</p>
                 <div id="challengesContainer"><div class="step"><div class="step-number" style="background-color: var(--accent); color: var(--dark); display: flex; justify-content: center; align-items: flex-start; padding-top: 5px;">★</div>
                              <div class="step-content">
                                 <strong>Try a similar one</strong>
                                 <p class="description">Try a smily face sad face animation</p>
                                 <div class="step-media" style="display: block;"><img src="https://static.wixstatic.com/media/ecb02e_6e5d23ece0cf42b09492436710cf6ba0~mv2.gif" loading="lazy" alt="Try a similar one"></div>
                             </div></div><div class="step"><div class="step-number" style="background-color: var(--accent); color: var(--dark); display: flex; justify-content: center; align-items: flex-start; padding-top: 5px;">★</div>
                              <div class="step-content">
                                 <strong>Try a pattern</strong>
                                 <p class="description">Create the below pattern</p>
                                 <div class="step-media" style="display: block;"><img src="https://static.wixstatic.com/media/ecb02e_8309e52daabd46a7a6114ccd0ef49f8b~mv2.gif" loading="lazy" alt="Try a pattern"></div>
                             </div></div></div>
             </section>
             <section id="quiz" class="tab-content">
                 <h2>Project Quiz</h2>
                 <p>Test your knowledge from this project:</p>
                 <div id="quizContainer"><div class="quiz-question"><p class="question-text">1. What is the main purpose of the "on start" block?</p><div class="quiz-options"><div class="quiz-option" role="button" tabindex="0" data-is-correct="true">To run the program only once when the micro:bit is powered on.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">To stop the program from running.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">To display a random image.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">To keep the program running forever.</div></div><div class="quiz-feedback correct" style="display:none;">Correct!</div><div class="quiz-feedback incorrect" style="display:none;"></div></div><div class="quiz-question"><p class="question-text">2. What happens when the micro:bit is powered on?</p><div class="quiz-options"><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">It shows a welcome message.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">It asks for a password.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">It does nothing until a button is pressed.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="true">It immediately starts running the program stored in it.</div></div><div class="quiz-feedback correct" style="display:none;">Correct!</div><div class="quiz-feedback incorrect" style="display:none;"></div></div><div class="quiz-question"><p class="question-text">3. How many LEDs are there on the micro:bit display?</p><div class="quiz-options"><div class="quiz-option" role="button" tabindex="0" data-is-correct="true">25</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">14</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">30</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">20</div></div><div class="quiz-feedback correct" style="display:none;">Correct!</div><div class="quiz-feedback incorrect" style="display:none;"></div></div><div class="quiz-question"><p class="question-text">4. How are the LEDs on the micro:bit arranged?</p><div class="quiz-options"><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">In a single row</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="true">In a 5x5 grid</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">In a circular pattern</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">Randomly placed</div></div><div class="quiz-feedback correct" style="display:none;">Correct!</div><div class="quiz-feedback incorrect" style="display:none;"></div></div><div class="quiz-question"><p class="question-text">5. What is the function of the "forever" block?</p><div class="quiz-options"><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">To turn off the micro:bit.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">To display a random image.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="false">To display a message once.</div><div class="quiz-option" role="button" tabindex="0" data-is-correct="true">To keep repeating the instructions inside it.</div></div><div class="quiz-feedback correct" style="display:none;">Correct!</div><div class="quiz-feedback incorrect" style="display:none;"></div></div></div>
                 <!-- Final result area added by script -->
                 <button class="submit-btn" id="submitQuizBtn" onclick="submitQuiz()" style="display: block;">Submit Quiz</button>
             </section>
        </main>
    </div>

</div><!-- End .container -->


<!-- ==== MODALS ==== -->

<!-- == COURSE Editor Modal == -->



<!-- == PROJECT Editor Modal (Merged) == -->







<script>
// --- EXPORTED VIEWER SCRIPT (SELF-CONTAINED) ---
const courseDataForView = {"title":"Micro:bit Level 1","description":"Explore the exciting world of physical computing with the BBC micro:bit! This course contains several projects designed to introduce you to coding concepts and hardware interaction in a fun, hands-on way.","imageUrl":"https://static.wixstatic.com/media/ecb02e_d86006f33f6c4a448e2c1ec1517c2690~mv2.png","courseMultimedia":{"type":"video","url":"https://video.wixstatic.com/video/ecb02e_618c362136c24e12886ac4ef43b86562/720p/mp4/file.mp4","title":"","minimized":false,"attributes":{"autoplay":false,"paused":true}},"style":{"primaryColor":"#5E81F4","secondaryColor":"#FF7AC6","accentColor":"#FFB800"},"projects":[{"id":"proj_catch and win","isCompleted":false,"style":{"fontFamily":"'Comic Sans MS', cursive, sans-serif","baseSize":"large","primaryColor":"#5E81F4","secondaryColor":"#5E81F4","accentColor":"#FFB800"},"projectTitle":"Catch and Win Game","projectSubtitle":"Make your Own game with Microbit","projectHeaderImage":"https://static.wixstatic.com/media/ecb02e_0d14c8f0fcc740b49dd9dee5dddf4802~mv2.gif","tabName":"Catch and Win","tabImage":"https://static.wixstatic.com/media/ecb02e_da4d01ce625b4cc0a0f79b7e553f50f9~mv2.gif","overviewText":"Turn your Micro:bit into a fun arcade-style game! Control a paddle at the bottom of the screen using the A and B buttons to catch falling objects. Every successful catch earns you points, but miss too many, and it’s game over !","videoIntroText":"","videoTitle":"Catcha and Win Game Play","videoUrl":"https://video.wixstatic.com/video/ecb02e_6cd237055ba94d3aa4c314361c4a6619/720p/mp4/file.mp4","videoKeyPoints":["The player sprite is controlled with Button A (left) and Button B (right).","Falling objects spawn randomly at the top (y=0) of the 5x5 LED grid.","Collision happens when object's (x,y) matches player's (x,4) position.","Use 'plot (x,y)' to display and 'unplot (x,y)' to clear sprites.","The 'forever' block handles continuous game movement and logic.","'pause (ms)' controls game speed (lower = faster difficulty).","Variables track score, player_x position, and missed objects count.","Game ends when missed objects reach a set limit (e.g., 3 misses).","'show number' displays the final score when game ends."],"learnData":[{"title":"Hardware Concepts","description":"LED Matrix Control (5×5 grid addressing) , Button Input Handling (A/B for player movement) , Microcontroller Basics (real-time program execution)","mediaType":"none","mediaUrl":""},{"title":"Software Concepts","description":"Coordinate System , Event-Driven Programming (button presses triggering actions) , Game State Management (score, player position, misses) , Random Number Generation (object spawning) , Frame-Based Animation (using pause-delayed loops) .","mediaType":"none","mediaUrl":""},{"title":"Computational Thinking : Decomposition","description":"Breaking complex apps into modules Separated game into: • Input (buttons) • Processing (collision logic) • Output (LED feedback)","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_40038ca4cab340678eaa74b60e83d23f~mv2.jpg"},{"title":"Computational Thinking : Pattern Recognition","description":"Identifying reusable code blocks Noticed repeating patterns: • plot/unplot pairs • Button event handlers • Looped fall animations","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_1654c328578f40f695256521a75afe9f~mv2.jpg"},{"title":"Computational Thinking : Abstraction","description":"Creating Sprite interfaces Simplified: • Collision = matching coordinates • Game state = 3 variables (score, x, misses)","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_23928bedf5934dffb0deb675b5ab49b5~mv2.jpg"},{"title":"Computational Thinking : Algorithm Design","description":"Developing logic Designed: • Object fall algorithm • Scoring system • Game-over conditions","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_f2db902baed74502827dd272f83605b2~mv2.jpg"}],"slidesData":[{"url":"https://view.genially.com/67ecdd788c39a945978ebccd","description":"1. Let's explore the game's building blocks—using MakeCode's interface to program player controls and falling objects while applying LED plotting concepts to animate sprites on the 5×5 grid.","type":"iframe"},{"url":"https://view.genially.com/67ed20fd760c39a593735c5c","description":"2. In our Catch and Win game, a sprite is a movable game character (like the player or falling objects) created by lighting up LEDs on the Micro:bit’s 5×5 grid, controlled using plot and unplot commands.","type":"iframe"},{"url":"https://view.genially.com/67ebba390c63eea3efd8a34f","description":"3. Try out the Snap the Dot game","type":"iframe"},{"url":"https://view.genially.com/67ee14b750005b84f7668051","description":"4. Before diving into ‘Catch and Win,’ students will practice core concepts with ‘Snap the Dot’—a simple reaction game where players press Button A when a randomly appearing LED (dot) lights up.","type":"iframe"},{"url":"https://view.genially.com/67ebb9d8a3539e6346b287af","description":"5. Try out the Catch and Win game","type":"iframe"},{"url":"https://view.genially.com/67ee5f7a769240f636349838","description":"6. In this step-by-step tutorial, you'll build your own Catch and Win game on the Micro:bit!","type":"iframe"}],"challengesData":[{"title":"Speed Control","description":"Experiment by changing the numbers in the 'pause (ms)' blocks. What happens if you use 1000? What about 100?","mediaType":"none","mediaUrl":""},{"title":"Different Icon","description":"Instead of 'show leds', try using the 'show icon' block with different heart sizes (Heart, SmallHeart). Does it look different?","mediaType":"none","mediaUrl":""},{"title":"Add Tilt to move the Sprite","description":"Remove the A and B button inputs and replace it with Tilt to move the Sprite","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_38cc2517f4b0447284ea5872e48c6c96~mv2.gif"}],"quizData":[{"questionText":"What is the coordinate range of the Micro:bit's LED grid?","correctAnswer":"'0-4 (x) and 0-4 (y)'","incorrectAnswers":["' 0-9 (x) and 0-9 (y)'","'0-10 (x) and 0-10 (y)'","'1-5 (x) and 1-5 (y)'"]},{"questionText":"A sprite in the Catch and Win game is","correctAnswer":"A movable object represented by LEDs","incorrectAnswers":["A variable storing the game speed","A sound effect played when scoring","A background image on the Micro:bit"]},{"questionText":"What does unplot(x, y) do?","correctAnswer":"Turns off the LED at (x, y)","incorrectAnswers":["Creates a new sprite","Increases the brightness of an LED","Moves a sprite to a new position"]},{"questionText":"How do you make the player move LEFT in the game?","correctAnswer":"Press Button A","incorrectAnswers":["Shake the Micro:bit","Press Button A and B together","Use the accelerometer"]},{"questionText":"Which block handles continuous gameplay (e.g., falling objects)?","correctAnswer":"forever","incorrectAnswers":["pause","on button pressed","on start"]},{"questionText":"How is a \"catch\" detected in the game?","correctAnswer":"When a falling object’s (x, y) matches the player’s (x, 4)","incorrectAnswers":["When the Micro:bit is tilted","When the score variable changes","When the game pauses"]},{"questionText":"Which code spawns objects at random x-positions?","correctAnswer":"x = random(0, 4)","incorrectAnswers":["x = player_x","x = 2","x = input.light_level()"]},{"questionText":"What does the score variable track?","correctAnswer":"Number of objects caught","incorrectAnswers":["Player’s x-position","Time elapsed","Missed objects"]}]},{"id":"proj_1743740874555_cqpr0","isCompleted":false,"style":{"fontFamily":"'Comic Sans MS', cursive, sans-serif","baseSize":"large","primaryColor":"#5E81F4","secondaryColor":"#5E81F4","accentColor":null},"projectTitle":"Beating Heart","projectSubtitle":"Make your Micro:bit to display a Classic Beating Heart","projectHeaderImage":"","tabName":"Beating Heart","tabImage":"https://static.wixstatic.com/media/ecb02e_78f86aa17f7e45baa9fa01d284a59baf~mv2.gif","overviewText":"Welcome to your first Micro:bit project! You'll learn the basics of block coding by creating a simple but effective animation on the Micro:bit's LED display – a beating heart. This is a fantastic way to understand timing and sequential programming.","videoIntroText":"The Beating Heart","videoTitle":"","videoUrl":"https://video.wixstatic.com/video/ecb02e_b1d7e399c37041d08ad9cac998d53b00/1080p/mp4/file.mp4","videoKeyPoints":["The project creates a pulsing heart animation on the micro:bit’s 5×5 LED display.","Using Built-in icons","The heart \"beats\" by switching between the two images with a short delay (e.g., 300–500 milliseconds).","Users can define their own heart shapes using a 5×5 grid format (e.g., \"01110:10001:...\")","Varying speeds → Faster delays for a rapid heartbeat, slower for a calm pulse.","Button control → Heart beats only when a button is pressed.","Sensors → Adjust speed using the accelerometer (e.g., shake to make it beat faster).","Simple introduction to LED animations."],"learnData":[{"title":"Micro:bit Display","description":"Learn how to code and use the microbit display","mediaType":"none","mediaUrl":""},{"title":"Programming concepts","description":"Learn basic programming concepts like setup","mediaType":"none","mediaUrl":""},{"title":"Sequencing","description":"Learn how to build a seqential code with microbit","mediaType":"none","mediaUrl":""},{"title":"Timing","description":"How to use pause and delays in a code","mediaType":"none","mediaUrl":""},{"title":"Animations","description":"Learn how to combine codes to create a simple animation","mediaType":"none","mediaUrl":""}],"slidesData":[{"url":"https://view.genially.com/67ece8c288defe39c2f3059b","description":"1.Makecode Microbit","type":"iframe"},{"url":"https://view.genially.com/67ecf9c819b22b97739663f5","description":"2.Basic Blocks","type":"iframe"},{"url":"https://view.genially.com/67ee325feac0c6c654cf59ed","description":"3.Add Blocks and Delete Blocks","type":"iframe"},{"url":"https://view.genially.com/67ed0d1d8c39a94597a12b4e","description":"4.Micro:bit Display","type":"iframe"},{"url":"https://view.genially.com/67ee3417743c6c0c1fa21ff6","description":"5.Smily Face","type":"iframe"},{"url":"https://view.genially.com/67ee49f0769240f6362ae99e","description":"6.Beating Heart","type":"iframe"}],"challengesData":[{"title":"Try a similar one","description":"Try a smily face sad face animation","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_6e5d23ece0cf42b09492436710cf6ba0~mv2.gif"},{"title":"Try a pattern","description":"Create the below pattern","mediaType":"image","mediaUrl":"https://static.wixstatic.com/media/ecb02e_8309e52daabd46a7a6114ccd0ef49f8b~mv2.gif"}],"quizData":[{"questionText":"What is the main purpose of the \"on start\" block?","correctAnswer":"To run the program only once when the micro:bit is powered on.","incorrectAnswers":["To keep the program running forever.","To display a random image.","To stop the program from running."]},{"questionText":"What happens when the micro:bit is powered on?","correctAnswer":"It immediately starts running the program stored in it.","incorrectAnswers":["It asks for a password.","It does nothing until a button is pressed.","It shows a welcome message."]},{"questionText":"How many LEDs are there on the micro:bit display?","correctAnswer":"25","incorrectAnswers":["14","20","30"]},{"questionText":"How are the LEDs on the micro:bit arranged?","correctAnswer":"In a 5x5 grid","incorrectAnswers":["Randomly placed","In a circular pattern","In a single row"]},{"questionText":"What is the function of the \"forever\" block?","correctAnswer":"To keep repeating the instructions inside it.","incorrectAnswers":["To display a message once.","To turn off the micro:bit.","To display a random image."]}]}]};
let currentSlideIndex = 0; let currentProjectIdForView = null;
// Utils
function shuffleArray(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}}
function hexToRgb(h){let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}
// Theme
function applyThemeClrs(p,s,a){const r=document.documentElement;r.style.setProperty('--primary',p||'#5E81F4');r.style.setProperty('--secondary',s||'#FF7AC6');r.style.setProperty('--accent',a||'#FFB800');const pr=hexToRgb(p||'#5E81F4');if(pr)r.style.setProperty('--primary-rgb',`${pr.r}, ${pr.g}, ${pr.b}`);const sr=hexToRgb(s||'#FF7AC6');if(sr)r.style.setProperty('--secondary-rgb',`${sr.r}, ${sr.g}, ${sr.b}`)}
function applyCourseThemeForView(){const cs=courseDataForView.style||{};applyThemeClrs(cs.primaryColor,cs.secondaryColor,cs.accentColor);const r=document.documentElement;r.style.setProperty('--base-font-family',"'Segoe UI', sans-serif");r.style.setProperty('--base-font-size','16px');const pv=document.getElementById('project-view');if(pv){pv.style.fontFamily='';pv.style.fontSize=''}}
function applyProjectStylesForView(p){if(!p)return;const ps=p.style||{};const cs=courseDataForView.style||{};applyThemeClrs(ps.primaryColor||cs.primaryColor,ps.secondaryColor||cs.secondaryColor,ps.accentColor||cs.accentColor);const pv=document.getElementById('project-view');if(!pv)return;pv.style.fontFamily=ps.fontFamily||'var(--base-font-family)';let ef='var(--base-font-size)';if(ps.baseSize==='small')ef='14px';else if(ps.baseSize==='large')ef='18px';else if(ps.baseSize==='medium')ef='16px';pv.style.fontSize=ef}
// Navigation
function showCourseView(){document.getElementById('course-view').style.display='block';document.getElementById('project-view').style.display='none';currentProjectIdForView=null;document.title=courseDataForView.title||"Course";applyCourseThemeForView();renderCoursePageForView();window.scrollTo(0,0)}
function showProjectView(pid){const p=courseDataForView.projects.find(pr=>pr.id===pid);if(!p){showCourseView();return}currentProjectIdForView=pid;renderProjectPageForView(p);document.getElementById('course-view').style.display='none';document.getElementById('project-view').style.display='block';document.title=p.projectTitle||"Project";applyCourseThemeForView();applyProjectStylesForView(p);window.scrollTo(0,0);try{history.pushState({projectId:pid},p.projectTitle||'',`#project-${pid}`)}catch(e){}}
window.onpopstate=function(e){if(e.state&&e.state.projectId){showProjectView(e.state.projectId)}else{showCourseView()}};
// Rendering
function renderCoursePageForView(){const c=courseDataForView;document.getElementById('courseTitle').textContent=c.title;const i=document.getElementById('courseImage');if(i){i.src=c.imageUrl||'';i.alt=c.title+" Image"}document.getElementById('courseDescription').textContent=c.description;renderCourseMultimediaForView();const g=document.getElementById('projectGrid');g.innerHTML='';if(!c.projects||c.projects.length===0){g.innerHTML='<p style="text-align:center;color:#666;">No projects.</p>';return}c.projects.forEach(p=>{if(!p||!p.id)return;const t=document.createElement('a');t.className='project-tab';t.href=`#project-${p.id}`;t.onclick=e=>{e.preventDefault();showProjectView(p.id)};t.innerHTML=`<img src="${p.tabImage||'https://via.placeholder.com/300x200/eee/999?text=Prj'}" alt="${p.tabName||'Project'}" loading="lazy"><div class="project-tab-info"><span>${p.tabName||'Project'}</span></div>`;if(p.isCompleted){const k=document.createElement('span');k.className='completion-tick';k.innerHTML='&#10004;';k.setAttribute('aria-label','Completed');k.title='Completed';t.appendChild(k)}g.appendChild(t)})}
function renderCourseMultimediaForView(){const s=document.getElementById('course-multimedia-section'),d=document.getElementById('course-multimedia-content'),b=document.getElementById('toggle-multimedia-btn'),m=courseDataForView.courseMultimedia||{type:'none',url:'',title:'',minimized:!1};if(!s||!d||!b)return;d.innerHTML='';s.classList.remove('multimedia-minimized');if(m.type==='none'||!m.url){s.style.display='none';return}s.style.display='block';const u=m.url.trim(),t=m.title?.trim()||'Course Multimedia';if(m.type==='image'){const i=document.createElement('img');i.src=u;i.alt=t;i.loading='lazy';d.appendChild(i)}else if(m.type==='video'||m.type==='presentation'){const w=document.createElement('div');w.className='media-wrapper-16-9';const f=document.createElement('iframe');f.src=u;f.title=t;f.frameBorder="0";f.loading='lazy';f.allow="accelerometer; autoplay=false ; clipboard-write; encrypted-media; gyroscope; picture-in-picture";f.allowFullscreen=!0;f.sandbox="allow-scripts allow-same-origin allow-presentation";w.appendChild(f);d.appendChild(w)}else{d.innerHTML='<p>Unsupported type.</p>'}if(m.minimized){s.classList.add('multimedia-minimized');b.innerHTML='&#x2B;';b.title='Maximize';b.setAttribute('aria-label','Maximize')}else{s.classList.remove('multimedia-minimized');b.innerHTML='—';b.title='Minimize';b.setAttribute('aria-label','Minimize')}}
function toggleCourseMultimedia(){const s=document.getElementById('course-multimedia-section'),b=document.getElementById('toggle-multimedia-btn');if(!s||!b||!courseDataForView.courseMultimedia)return;courseDataForView.courseMultimedia.minimized=!courseDataForView.courseMultimedia.minimized;s.classList.toggle('multimedia-minimized');if(courseDataForView.courseMultimedia.minimized){b.innerHTML='&#x2B;';b.title='Maximize';b.setAttribute('aria-label','Maximize')}else{b.innerHTML='—';b.title='Minimize';b.setAttribute('aria-label','Minimize')}}
function renderProjectPageForView(p){if(!p)return;const pv=document.getElementById('project-view');if(!pv)return;const h=pv.querySelector('#project-header');if(h){h.querySelector('#projectImage').src=p.projectHeaderImage||p.tabImage||'';h.querySelector('#projectImage').alt=p.projectTitle+" Hdr";h.querySelector('#projectTitle').textContent=p.projectTitle;h.querySelector('#projectSubtitle').textContent=p.projectSubtitle}const ct=pv.querySelector('#projectTabContentContainer');if(!ct)return;const ov=ct.querySelector('#overview');if(ov){ov.querySelector('#overviewText').textContent=p.overviewText||'';renderLearnItemsForProjectView(p.learnData||[],ov.querySelector('#learnContainer'))}const vd=ct.querySelector('#video');if(vd){vd.querySelector('#videoIntroText').textContent=p.videoIntroText||'';vd.querySelector('#videoTitle').textContent=p.videoTitle||'';vd.querySelector('#mainVideo').src=p.videoUrl||'';const ul=vd.querySelector('#videoKeyPoints');ul.innerHTML='';(p.videoKeyPoints||[]).forEach(pt=>{if(pt&&pt.trim())ul.innerHTML+=`<li>${pt}</li>`});if(!ul.innerHTML)ul.innerHTML='<li style="color:#888;font-style:italic;">No key points.</li>'}const sl=ct.querySelector('#slides');if(sl)renderSlideshowForProjectView(p.slidesData||[],sl.querySelector('#slideshowContainer'));const ch=ct.querySelector('#challenges');if(ch)renderChallengesForProjectView(p.challengesData||[],ch.querySelector('#challengesContainer'));const qz=ct.querySelector('#quiz');if(qz)renderQuizForProjectView(p.quizData||[],qz.querySelector('#quizContainer'),qz.querySelector('#submitQuizBtn'));const tb=pv.querySelector('#projectTabs');const ftb=tb?.querySelector('.tab');if(ftb){const ca=ftb.getAttribute('onclick')||'';const m=ca.match(/openProjectTab\('([^']+)'/);openProjectTab(m?m[1]:'overview',ftb)}else{updateProjectProgressBar('')}}
function renderMedia(typ,url,tit){if(!url)return'';if(typ==='image')return`<img src="${url}" loading="lazy" alt="${tit}">`;if(typ==='video'||typ==='presentation')return`<iframe src="${url}" frameborder="0" loading="lazy" allowfullscreen sandbox="allow-scripts allow-same-origin allow-presentation" title="${tit}"></iframe>`;return''}
function renderLearnItemsForProjectView(d,c){if(!c)return;c.innerHTML='';const v=(d||[]).filter(i=>i.title&&i.title.trim());if(v.length===0){c.innerHTML='<p style="color:#888;">No objectives.</p>';return}v.forEach((i,x)=>{const e=document.createElement('div');e.className='step';e.innerHTML=`<div class="step-number">${x+1}</div><div class="step-content"><strong>${i.title}</strong>${i.description?`<p class="description">${i.description}</p>`:''}<div class="step-media" style="display: none;"></div></div>`;const m=e.querySelector('.step-media');const mu=renderMedia(i.mediaType,i.mediaUrl,i.title||'Media');if(mu){m.style.display='block';m.innerHTML=mu}c.appendChild(e)})}
function renderChallengesForProjectView(d,c){if(!c)return;c.innerHTML='';const v=(d||[]).filter(i=>i.title&&i.title.trim());if(v.length===0){c.innerHTML='<p style="color:#888;">No challenges.</p>';return}v.forEach(i=>{const e=document.createElement('div');e.className='step';e.innerHTML=`<div class="step-number" style="background-color:var(--accent);color:var(--dark);display: flex; justify-content: center; align-items: flex-start; padding-top: 5px;">★</div><div class="step-content"><strong>${i.title}</strong>${i.description?`<p class="description">${i.description}</p>`:''}<div class="step-media" style="display: none;"></div></div>`;const m=e.querySelector('.step-media');const mu=renderMedia(i.mediaType,i.mediaUrl,i.title||'Media');if(mu){m.style.display='block';m.innerHTML=mu}c.appendChild(e)})}
function renderSlideshowForProjectView(d,c){const n=c?.closest('.tab-content#slides')?.querySelector('.slide-nav');if(!c||!n){return}c.innerHTML='';const v=(d||[]).filter(s=>s.url&&s.url.trim());if(v.length===0){c.innerHTML='<p style="color:#888;">No slides.</p>';n.style.display='none';return}n.style.display='flex';v.forEach((s,x)=>{const dv=document.createElement('div');dv.className='slide';const u=s.url.trim();const t=s.type==='image'?'image':'iframe';const ds=s.description||'';const ti=ds||'Slide '+(x+1);dv.innerHTML=`<div class="slide-content-wrapper"></div>${ds?`<p>${ds}</p>`:''}`;const w=dv.querySelector('.slide-content-wrapper');w.innerHTML=renderMedia(t,u,ti);c.appendChild(dv)});currentSlideIndex=0;showSlide(0)}
function renderQuizForProjectView(d,c,b){if(!c||!b)return;c.innerHTML='';c.closest('.tab-content#quiz')?.querySelector('.final-quiz-result')?.remove();b.disabled=!1;b.style.display='none';const v=(d||[]).filter(q=>q.questionText&&q.questionText.trim()&&q.correctAnswer&&q.correctAnswer.trim());if(v.length===0){c.innerHTML='<p style="color:#888;">No quiz.</p>';return}b.style.display='block';v.forEach((q,x)=>{const dv=document.createElement('div');dv.className='quiz-question';dv.innerHTML=`<p class="question-text">${x+1}. ${q.questionText}</p><div class="quiz-options"></div><div class="quiz-feedback correct" style="display:none;">Correct!</div><div class="quiz-feedback incorrect" style="display:none;"></div>`;const od=dv.querySelector('.quiz-options');let os=[q.correctAnswer.trim()];(q.incorrectAnswers||[]).forEach(a=>{if(a&&a.trim())os.push(a.trim())});shuffleArray(os);os.forEach(ot=>{const cr=ot===q.correctAnswer.trim();const oe=document.createElement('div');oe.className='quiz-option';oe.textContent=ot;oe.setAttribute('role','button');oe.setAttribute('tabindex','0');oe.onclick=()=>selectQuizOption(oe);oe.onkeydown=e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();selectQuizOption(oe)}};oe.setAttribute('data-is-correct',cr.toString());od.appendChild(oe)});c.appendChild(dv)})}
// Interactions
function openProjectTab(tn,el){const c=document.getElementById('projectTabContentContainer');if(!c)return;c.querySelectorAll('.tab-content').forEach(tc=>tc.classList.remove('active'));const bs=document.getElementById('projectTabs');if(bs)bs.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));const t=c.querySelector('#'+tn);if(t)t.classList.add('active');el?.classList.add('active');updateProjectProgressBar(tn)}
function updateProjectProgressBar(tn){const p=document.getElementById('progressBar');if(!p)return;let r=0;const o=['overview','video','slides','challenges','quiz'];const i=o.indexOf(tn);if(i>=0)r=((i+1)/o.length)*100;p.style.width=r+'%'}
function showSlide(n){const s=document.querySelectorAll('#project-view #slideshowContainer .slide');const c=s.length;if(c===0)return;s.forEach(sl=>sl.classList.remove('active'));currentSlideIndex=(n%c+c)%c;if(s[currentSlideIndex])s[currentSlideIndex].classList.add('active')}
function nextSlide(){showSlide(currentSlideIndex+1)}function prevSlide(){showSlide(currentSlideIndex-1)}
function selectQuizOption(oe){const qd=oe.closest('.quiz-question');if(!qd||qd.classList.contains('answered'))return;qd.querySelectorAll('.quiz-option').forEach(o=>o.classList.remove('selected'));oe.classList.add('selected')}
function markProjectAsCompletedInView(pid){const p=courseDataForView.projects.find(pr=>pr.id===pid);if(p&&!p.isCompleted)p.isCompleted=!0;/*Add localStorage persistence here if needed*/}
function submitQuiz(){const qs=document.querySelectorAll('#project-view #quizContainer .quiz-question');let an=0,sc=0;const tt=qs.length;if(tt===0)return;let fu=null;qs.forEach(q=>{const s=q.querySelector('.quiz-option.selected');q.classList.remove('answered');q.querySelectorAll('.quiz-feedback').forEach(f=>f.style.display='none');q.querySelectorAll('.quiz-option').forEach(o=>{o.classList.remove('correct','incorrect');o.style.opacity='1';o.style.cursor='pointer';o.onclick=()=>selectQuizOption(o);o.onkeydown=e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();selectQuizOption(o)}}});q.style.outline='';if(s)an++;else if(!fu)fu=q});if(an<tt){alert('Please answer all '+tt+' questions!');if(fu){fu.scrollIntoView({behavior:'smooth',block:'center'});fu.style.outline='2px solid var(--danger)';setTimeout(()=>fu.style.outline='',2500)}return}qs.forEach(q=>{const s=q.querySelector('.quiz-option.selected');const fc=q.querySelector('.quiz-feedback.correct');const fi=q.querySelector('.quiz-feedback.incorrect');const ao=q.querySelectorAll('.quiz-option');q.classList.add('answered');const isc=s.getAttribute('data-is-correct')==='true';ao.forEach(o=>{const oc=o.getAttribute('data-is-correct')==='true';if(oc)o.classList.add('correct');if(o===s){if(!isc)o.classList.add('incorrect')}else if(!oc||o!==q.querySelector('.quiz-option.correct')){o.style.opacity="0.6"}o.style.cursor="default";o.onclick=null;o.onkeydown=null});if(isc){sc++;if(fc)fc.style.display='block'}else{if(fi){const co=q.querySelector('.quiz-option.correct');fi.textContent=`Not quite. Correct: "${co?co.textContent:'N/A'}"`;fi.style.display='block'}}});const b=document.querySelector('#project-view #submitQuizBtn');if(b)b.disabled=!0;const qc=document.querySelector('#project-view #quiz');let rd=qc?.querySelector('.final-quiz-result');if(!rd&&qc){rd=document.createElement('div');qc.appendChild(rd)}if(rd){const pc=tt>0?Math.round((sc/tt)*100):0;const ps=pc>=70;rd.textContent=`Quiz Complete! Score: ${sc}/${tt} (${pc}%).`;rd.className='final-quiz-result '+(ps?'success':'fail');rd.style.display='block';rd.scrollIntoView({behavior:'smooth',block:'center'});if(ps&&currentProjectIdForView)markProjectAsCompletedInView(currentProjectIdForView)}}
// Init
document.addEventListener('DOMContentLoaded', function() {
    applyCourseThemeForView();
    renderCoursePageForView(); // Render course page including multimedia
    let dsp=!1;
    if (window.location.hash && window.location.hash.startsWith('#project-')) {
        const pid = window.location.hash.substring(9);
        if (courseDataForView.projects.some(p => p.id === pid)) {
            showProjectView(pid); dsp=!0;
        }
    }
    if (!dsp) showCourseView(); // Show course view if no valid project hash
    console.log("Exported Course Viewer Initialized.");
});
            </script></body></html>
